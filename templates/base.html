<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% csrf_token %}
    <script>
        // Add CSRF token to all AJAX requests
        document.addEventListener('DOMContentLoaded', function() {
            let csrfToken = document.querySelector('input[name="csrfmiddlewaretoken"]').value;
            document.querySelectorAll('form').forEach(form => {
                if (!form.querySelector('input[name="csrfmiddlewaretoken"]')) {
                    let input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = 'csrfmiddlewaretoken';
                    input.value = csrfToken;
                    form.appendChild(input);
                }
            });
        });
    </script>
    <title>{% block title %}Shopify Django App{% endblock %}</title>
</head>
<body>
    {% block content %}{% endblock %}
</body>
</html>
